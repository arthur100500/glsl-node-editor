{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useCallback, useState } from \"react\";\nconst useContextMenu = () => {\n  _s();\n  const [anchorPoint, setAnchorPoint] = useState({\n    x: 0,\n    y: 0\n  });\n  const [show, setShow] = useState(false);\n  const handleContextMenu = useCallback(event => {\n    event.preventDefault();\n    setAnchorPoint({\n      x: event.pageX,\n      y: event.pageY\n    });\n    setShow(true);\n  }, [setShow, setAnchorPoint]);\n  const getParentElem = target => {\n    while (target.parentNode) {\n      console.log(target);\n      if (target.parentNode.className === \"menu\") return false;\n    }\n    return true;\n  };\n  const handleClick = useCallback(event => {\n    getParentElem(event.target);\n    show && setShow(false);\n  }, [show]);\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClick);\n    document.addEventListener(\"contextmenu\", handleContextMenu);\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n      document.removeEventListener(\"contextmenu\", handleContextMenu);\n    };\n  });\n  return {\n    anchorPoint,\n    show\n  };\n};\n_s(useContextMenu, \"h2+VTJibbwP3Nf8YC4Sv/ZS01l8=\");\nexport default useContextMenu;","map":{"version":3,"names":["useEffect","useCallback","useState","useContextMenu","anchorPoint","setAnchorPoint","x","y","show","setShow","handleContextMenu","event","preventDefault","pageX","pageY","getParentElem","target","parentNode","console","log","className","handleClick","document","addEventListener","removeEventListener"],"sources":["/home/arhur/Documents/GitHub/NodeEditor/src/hooks/useContextMenu.js"],"sourcesContent":["import { useEffect, useCallback, useState } from \"react\";\n\nconst useContextMenu = () => {\n    const [anchorPoint, setAnchorPoint] = useState({ x: 0, y: 0 });\n    const [show, setShow] = useState(false);\n\n    const handleContextMenu = useCallback(\n        (event) => {\n            event.preventDefault();\n            setAnchorPoint({ x: event.pageX, y: event.pageY });\n            setShow(true);\n        },\n        [setShow, setAnchorPoint]\n    );\n\n    const getParentElem = (target) => {\n        while (target.parentNode) {\n            console.log(target);\n            if (target.parentNode.className === \"menu\")\n                return false;\n        }\n        return true;\n    }\n    const handleClick = useCallback((event) => { getParentElem(event.target); show && setShow(false) }, [show]);\n\n    useEffect(() => {\n        document.addEventListener(\"click\", handleClick);\n        document.addEventListener(\"contextmenu\", handleContextMenu);\n        return () => {\n            document.removeEventListener(\"click\", handleClick);\n            document.removeEventListener(\"contextmenu\", handleContextMenu);\n        };\n    });\n\n    return { anchorPoint, show };\n};\n\nexport default useContextMenu;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAExD,MAAMC,cAAc,GAAG,MAAM;EAAA;EACzB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGH,QAAQ,CAAC;IAAEI,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAC9D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAEvC,MAAMQ,iBAAiB,GAAGT,WAAW,CAChCU,KAAK,IAAK;IACPA,KAAK,CAACC,cAAc,EAAE;IACtBP,cAAc,CAAC;MAAEC,CAAC,EAAEK,KAAK,CAACE,KAAK;MAAEN,CAAC,EAAEI,KAAK,CAACG;IAAM,CAAC,CAAC;IAClDL,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC,EACD,CAACA,OAAO,EAAEJ,cAAc,CAAC,CAC5B;EAED,MAAMU,aAAa,GAAIC,MAAM,IAAK;IAC9B,OAAOA,MAAM,CAACC,UAAU,EAAE;MACtBC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;MACnB,IAAIA,MAAM,CAACC,UAAU,CAACG,SAAS,KAAK,MAAM,EACtC,OAAO,KAAK;IACpB;IACA,OAAO,IAAI;EACf,CAAC;EACD,MAAMC,WAAW,GAAGpB,WAAW,CAAEU,KAAK,IAAK;IAAEI,aAAa,CAACJ,KAAK,CAACK,MAAM,CAAC;IAAER,IAAI,IAAIC,OAAO,CAAC,KAAK,CAAC;EAAC,CAAC,EAAE,CAACD,IAAI,CAAC,CAAC;EAE3GR,SAAS,CAAC,MAAM;IACZsB,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEF,WAAW,CAAC;IAC/CC,QAAQ,CAACC,gBAAgB,CAAC,aAAa,EAAEb,iBAAiB,CAAC;IAC3D,OAAO,MAAM;MACTY,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAEH,WAAW,CAAC;MAClDC,QAAQ,CAACE,mBAAmB,CAAC,aAAa,EAAEd,iBAAiB,CAAC;IAClE,CAAC;EACL,CAAC,CAAC;EAEF,OAAO;IAAEN,WAAW;IAAEI;EAAK,CAAC;AAChC,CAAC;AAAC,GAjCIL,cAAc;AAmCpB,eAAeA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}